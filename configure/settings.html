<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Plugin Settings | SAML SSO Service Provider</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="SAML SSO Service Provider plugin for Craft CMS">
    
    <link rel="preload" href="/assets/css/0.styles.9cbc9ea8.css" as="style"><link rel="preload" href="/assets/js/app.02032b28.js" as="script"><link rel="preload" href="/assets/js/2.10e26c47.js" as="script"><link rel="preload" href="/assets/js/1.9bb73444.js" as="script"><link rel="preload" href="/assets/js/31.11e540fc.js" as="script"><link rel="prefetch" href="/assets/js/10.3324c83c.js"><link rel="prefetch" href="/assets/js/11.27d36382.js"><link rel="prefetch" href="/assets/js/12.143bf57e.js"><link rel="prefetch" href="/assets/js/13.76d18815.js"><link rel="prefetch" href="/assets/js/14.0cfda640.js"><link rel="prefetch" href="/assets/js/15.27e3a248.js"><link rel="prefetch" href="/assets/js/16.58196ea9.js"><link rel="prefetch" href="/assets/js/17.cb74d731.js"><link rel="prefetch" href="/assets/js/18.ea4aba3f.js"><link rel="prefetch" href="/assets/js/19.c8d6c14b.js"><link rel="prefetch" href="/assets/js/20.4b4a7f9d.js"><link rel="prefetch" href="/assets/js/21.b3eb7e2c.js"><link rel="prefetch" href="/assets/js/22.85069bd1.js"><link rel="prefetch" href="/assets/js/23.885512a7.js"><link rel="prefetch" href="/assets/js/24.97d17fad.js"><link rel="prefetch" href="/assets/js/25.3a07ed28.js"><link rel="prefetch" href="/assets/js/26.330ae7f5.js"><link rel="prefetch" href="/assets/js/27.c4d812f3.js"><link rel="prefetch" href="/assets/js/28.8bfeaf9b.js"><link rel="prefetch" href="/assets/js/29.2942a73b.js"><link rel="prefetch" href="/assets/js/3.50f33648.js"><link rel="prefetch" href="/assets/js/30.953f3d03.js"><link rel="prefetch" href="/assets/js/32.ab2bf4f1.js"><link rel="prefetch" href="/assets/js/33.f1cdd157.js"><link rel="prefetch" href="/assets/js/34.e8937dc2.js"><link rel="prefetch" href="/assets/js/35.1c63dc83.js"><link rel="prefetch" href="/assets/js/36.b27ae721.js"><link rel="prefetch" href="/assets/js/37.78630ccb.js"><link rel="prefetch" href="/assets/js/38.75f0b186.js"><link rel="prefetch" href="/assets/js/4.c3bbd19c.js"><link rel="prefetch" href="/assets/js/5.81c000f8.js"><link rel="prefetch" href="/assets/js/6.3bba3ea6.js"><link rel="prefetch" href="/assets/js/7.e23775f3.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.857e8e87.js">
    <link rel="stylesheet" href="/assets/css/0.styles.9cbc9ea8.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/icon.svg" alt="SAML SSO Service Provider" class="logo"> <span class="site-name can-hide">SAML SSO Service Provider</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.flipboxdigital.com/craft-cms-plugins/saml-service-provider" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Details
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/flipboxfactory/saml-sp/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/flipboxfactory/saml-sp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Repo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.flipboxdigital.com/craft-cms-plugins/saml-service-provider" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Details
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/flipboxfactory/saml-sp/blob/master/CHANGELOG.md" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Changelog
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/flipboxfactory/saml-sp" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Repo
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Getting Started</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Configure</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/configure/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/configure/login.html" class="sidebar-link">Login</a></li><li><a href="/configure/logout.html" class="sidebar-link">Logout</a></li><li><a href="/configure/groups.html" class="sidebar-link">User Groups / Permissions</a></li><li><a href="/configure/keychain.html" class="sidebar-link">KeyChain</a></li><li><a href="/configure/settings.html" aria-current="page" class="active sidebar-link">Settings</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/configure/settings.html#plugin-settings" class="sidebar-link">Plugin Settings</a></li></ul></li><li><a href="/configure/events.html" class="sidebar-link">Events</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>IdPs</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Examples</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="plugin-settings"><a href="#plugin-settings" class="header-anchor">#</a> Plugin Settings</h2> <p>You may override the default plugin settings by creating a <code>/config/saml-sp.php</code> file.</p> <p>View the settings you can override in your project at <code>/vendor/flipboxfactory/saml-sp/src/models/Settings.php</code>.
Each setting has a description of what it does and how to customize it.</p> <h3 id="entityid"><a href="#entityid" class="header-anchor">#</a> EntityID</h3> <p>The Entity ID is the unique ID for the provider (your Craft instance) and defaults to the default site's base url.
There are two Entity ID's to understand for Service Provider (again, your Craft instance) and these 2 Entity Ids
must match to make things work properly.</p> <ol><li>System wide Entity ID</li> <li>Provider Entity ID</li></ol> <h4 id="system-wide-entity-id"><a href="#system-wide-entity-id" class="header-anchor">#</a> System Wide Entity ID</h4> <p>The system wide Entity ID is the Entity ID of the current environment. You can have multiple environments which will
change depending on which environment you're on (like your base url changes based on the environment).</p> <p>Currently, you can edit the EntityID system wide a couple ways.</p> <h5>1. Add a config file in <code>config/saml-sp.php</code>.</h5> <p>This location lives right next to the <code>general.php</code>. Below is an example file contents.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>
   <span class="token string single-quoted-string">'entityId'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'https://my-entity-id'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>You can also use environmental variables with Craft parser by passing it as a string.</p> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>
   <span class="token string single-quoted-string">'entityId'</span> <span class="token operator">=&gt;</span> <span class="token string single-quoted-string">'$ENTITY_ID'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h5>2. Edit from the admin (Goto the plugin in craft, then click on the &quot;Settings&quot; menu item under the plugins sub nav).</h5> <p>Set the &quot;Default Entity ID&quot; there which will save it to the project config. Environmental variable that can be parsed by
the Craft parse can also be set here (ie, $ENTITY_ID).</p> <h4 id="provider-entity-id"><a href="#provider-entity-id" class="header-anchor">#</a> Provider Entity ID</h4> <p>Like the system wide Entity ID, there can be multiple providers, possibly one per environment with
different configurations. These providers are saved in the database and must be static due to the configuration data
share with the IdP. Provider Entity IDs can be modified on the edit page of the provider in the plugin control panel.</p> <h3 id="group-configuration-group-assignment"><a href="#group-configuration-group-assignment" class="header-anchor">#</a> Group Configuration/Group Assignment</h3> <h4 id="group-attribute-name-group-attribute-mapping"><a href="#group-attribute-name-group-attribute-mapping" class="header-anchor">#</a> Group Attribute Name/Group Attribute Mapping</h4> <p>Many IdPs will send groups as an attribute within the SAML Response. When configured, the plugin use that attribute to
assign the user to the group properly. To achieve this,  add a <code>config/saml-sp.php</code> then use the
following configuration.</p> <h5>Example</h5> <div class="language-php extra-class"><pre class="language-php"><code><span class="token keyword">return</span> <span class="token punctuation">[</span>
    <span class="token comment">// change the value as needed</span>
    <span class="token string single-quoted-string">'groupAttributeNames'</span> <span class="token operator">=&gt;</span> <span class="token punctuation">[</span> <span class="token string single-quoted-string">'groups'</span> <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><p>Make sure the value matches the attribute name sent from the IdP.</p> <h4 id="auto-create-groups-removed-version-2-3-0"><a href="#auto-create-groups-removed-version-2-3-0" class="header-anchor">#</a> Auto-Create Groups Removed (version 2.3.0)</h4> <p>Due to the release of Craft CMS 3.5, the project config has become more prevalant. Therefore, we've decided
to remove the support for <code>autoCreateGroups</code> in version 2.3.0. Production environments shouldn't be saving user
groups when following the project config workflow. This should be done at the lower level environments.</p> <p>Please use an event as shown below.</p> <h4 id="managing-permissions"><a href="#managing-permissions" class="header-anchor">#</a> Managing Permissions</h4> <p>Managing permissions ** is not supported ** automatically. There are a few options on how to manually manage
permissions:</p> <ol><li>Create the groups before implementing the plugin. Make sure you know all of the groups needed to assign the users
properly.</li> <li>Use an event! See the <a href="/configure/events.html#assign-user-to-a-user-group-based-on-a-property">EVENT_AFTER_RESPONSE_TO_USER</a> example.</li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/flipboxfactory/saml-sp/edit/master/docs/configure/settings.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/configure/keychain.html" class="prev">
        KeyChain
      </a></span> <span class="next"><a href="/configure/events.html">
        Events
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.02032b28.js" defer></script><script src="/assets/js/2.10e26c47.js" defer></script><script src="/assets/js/1.9bb73444.js" defer></script><script src="/assets/js/31.11e540fc.js" defer></script>
  </body>
</html>
